[
null,
{"id":1,"list":[{"code":111,"indent":0,"parameters":[12,"Input.isTriggered(\"up\")"]},{"code":356,"indent":1,"parameters":["Move 8"]},{"code":121,"indent":1,"parameters":[2,2,0]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"Input.isTriggered(\"down\")"]},{"code":356,"indent":1,"parameters":["Move 2"]},{"code":121,"indent":1,"parameters":[2,2,0]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"Input.isTriggered(\"left\")"]},{"code":356,"indent":1,"parameters":["Move 4"]},{"code":121,"indent":1,"parameters":[2,2,0]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"Input.isTriggered(\"right\")"]},{"code":356,"indent":1,"parameters":["Move 6"]},{"code":121,"indent":1,"parameters":[2,2,0]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[0,2,0]},{"code":111,"indent":1,"parameters":[12,"!Input._currentState['up'] && !Input._currentState['down'] && !Input._currentState['left'] && !Input._currentState['right']"]},{"code":356,"indent":2,"parameters":["Move 5"]},{"code":121,"indent":2,"parameters":[2,2,1]},{"code":0,"indent":2,"parameters":[]},{"code":412,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"Move","switchId":1,"trigger":2},
{"id":2,"list":[{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["買収イベント"]},{"code":355,"indent":0,"parameters":["var areaId = 'AR' + ('000' + $gameVariables.value(13)).slice(-3);"]},{"code":655,"indent":0,"parameters":["var areaInfo = window.client.master.M_AREA_LIST.find(m => m.areaId === areaId);"]},{"code":655,"indent":0,"parameters":["var pay = (areaInfo.playerId === null || areaInfo.playerId === window.client.playerId) ? 1 : 3;"]},{"code":655,"indent":0,"parameters":["$gameVariables.setValue(15, pay);"]},{"code":111,"indent":0,"parameters":[1,15,0,3,0]},{"code":101,"indent":1,"parameters":["",0,0,2]},{"code":401,"indent":1,"parameters":["【注意！】"]},{"code":401,"indent":1,"parameters":["ここは、既に別のプレイヤーの土地です。"]},{"code":401,"indent":1,"parameters":["買収費用が\\C[2]３倍\\C[0]になるので、ご注意ください。"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":112,"indent":0,"parameters":[]},{"code":101,"indent":1,"parameters":["",0,0,2]},{"code":401,"indent":1,"parameters":["設置する施設を選択してください。"]},{"code":108,"indent":1,"parameters":["JSで選択肢の表示"]},{"code":355,"indent":1,"parameters":["var buildList = [];"]},{"code":655,"indent":1,"parameters":["for (var i = 1; i < window.client.master.M_BUILDING_LIST.length; i++) { buildList.push(window.client.master.M_BUILDING_LIST[i].buildMei); }"]},{"code":655,"indent":1,"parameters":["buildList.push('やめる');"]},{"code":655,"indent":1,"parameters":["$gameVariables.setValue(14, buildList);"]},{"code":655,"indent":1,"parameters":["this.setupChoices([buildList,buildList.length - 1,0,1,0]);"]},{"code":655,"indent":1,"parameters":["this.setWaitMode('message');"]},{"code":355,"indent":1,"parameters":["var choise = this._branch[this._indent];"]},{"code":655,"indent":1,"parameters":["var choiseBuild = $gameVariables.value(14)[choise];"]},{"code":655,"indent":1,"parameters":["if (choiseBuild === 'やめる') {this._index = this._list.length;} "]},{"code":655,"indent":1,"parameters":["else {$gameVariables.setValue(14, choiseBuild);"]},{"code":655,"indent":1,"parameters":["var message = 'この土地を買収して「' + choiseBuild + '」を建設しますか？';"]},{"code":655,"indent":1,"parameters":["$gameMessage.add(message);"]},{"code":655,"indent":1,"parameters":["this.setupChoices([['はい','いいえ'],1,0,2,0]);"]},{"code":655,"indent":1,"parameters":["this.setWaitMode('message');}"]},{"code":355,"indent":1,"parameters":["if ($gameVariables.value(14) !== 'やめる') {"]},{"code":655,"indent":1,"parameters":["switch (this._branch[this._indent]) {"]},{"code":655,"indent":1,"parameters":[" case 0:"]},{"code":655,"indent":1,"parameters":["  var buildInfo = window.client.master.M_BUILDING_LIST.find(m => m.buildMei === $gameVariables.value(14)); var buyCost = $gameVariables.value(15); var canBuy = buildInfo.cost * buyCost <= window.client.playerMap[window.client.playerId].money;"]},{"code":655,"indent":1,"parameters":["  if (canBuy) { window.client.send('buyBuild', {buildId: buildInfo.buildId}); window.client.playerMap[window.client.playerId].money = window.client.playerMap[window.client.playerId].money - (buildInfo.cost * buyCost); var areaId = 'AR' + ('000' + $gameVariables.value(13)).slice(-3); var areaIndex = window.client.master.M_AREA_LIST.findIndex(m => m.areaId === areaId); window.client.master.M_AREA_LIST[areaIndex].buildId = buildInfo.buildId; this._index = this._list.length; }"]},{"code":655,"indent":1,"parameters":["  else { $gameMessage.add('購入費用が不足しています。'); this.setWaitMode('message'); } break;"]},{"code":655,"indent":1,"parameters":[" case 1: break;"]},{"code":655,"indent":1,"parameters":["};}"]},{"code":0,"indent":1,"parameters":[]},{"code":413,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"mapEvent 買収","switchId":1,"trigger":0},
{"id":3,"list":[{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["利用イベント"]},{"code":355,"indent":0,"parameters":["var areaId = 'AR' + ('000' + $gameVariables.value(13)).slice(-3);"]},{"code":655,"indent":0,"parameters":["var areaInfo = window.client.master.M_AREA_LIST.find(m => m.areaId === areaId);"]},{"code":655,"indent":0,"parameters":["var buildInfo = window.client.master.M_BUILDING_LIST.find(m => m.buildId === areaInfo.buildId);"]},{"code":655,"indent":0,"parameters":["if (buildInfo.canUse) {"]},{"code":655,"indent":0,"parameters":[" $gameMessage.add('【' + buildInfo.buildMei + '】\\n' + buildInfo.memoBuild); this.setWaitMode('message');"]},{"code":655,"indent":0,"parameters":[" $gameMessage.add('施設「' + buildInfo.buildMei + '」を利用しますか？'); this.setWaitMode('message');"]},{"code":655,"indent":0,"parameters":[" var buildParam = {id: buildInfo.buildId, efficacy: buildInfo.efficacy, choice: null};"]},{"code":655,"indent":0,"parameters":[" $gameVariables.setValue(14, buildParam);"]},{"code":655,"indent":0,"parameters":["} else { $gameMessage.add('この施設は利用することができません。\\n行動選択画面へ戻ります。'); this._index = this._list.length; }"]},{"code":108,"indent":0,"parameters":["施設が利用可能な場合、下記処理を実施"]},{"code":102,"indent":0,"parameters":[["はい","いいえ"],1,0,2,0]},{"code":402,"indent":0,"parameters":[0,"はい"]},{"code":121,"indent":1,"parameters":[6,6,0]},{"code":0,"indent":1,"parameters":[]},{"code":402,"indent":0,"parameters":[1,"いいえ"]},{"code":121,"indent":1,"parameters":[6,6,1]},{"code":101,"indent":1,"parameters":["",0,0,2]},{"code":401,"indent":1,"parameters":["施設の利用をキャンセルしました。"]},{"code":401,"indent":1,"parameters":["行動選択画面へ戻ります。"]},{"code":355,"indent":1,"parameters":["this._index = this._list.length;"]},{"code":0,"indent":1,"parameters":[]},{"code":404,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"$gameVariables.value(14).efficacy.event === 'shop'"]},{"code":355,"indent":1,"parameters":["$gameParty.gainGold(window.client.playerMap[window.client.playerId].money);"]},{"code":302,"indent":1,"parameters":[0,1,0,0,false]},{"code":605,"indent":1,"parameters":[0,2,0,0]},{"code":605,"indent":1,"parameters":[0,3,0,0]},{"code":605,"indent":1,"parameters":[0,5,0,0]},{"code":605,"indent":1,"parameters":[0,7,0,0]},{"code":605,"indent":1,"parameters":[0,9,0,0]},{"code":605,"indent":1,"parameters":[0,11,0,0]},{"code":605,"indent":1,"parameters":[0,13,0,0]},{"code":355,"indent":1,"parameters":["var money = $gameParty.gold();"]},{"code":655,"indent":1,"parameters":["$gameParty.gainGold(-money);"]},{"code":655,"indent":1,"parameters":["window.client.playerMap[window.client.playerId].money = money;"]},{"code":355,"indent":1,"parameters":["this._index = this._list.length;"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"$gameVariables.value(14).efficacy.event === 'school'"]},{"code":101,"indent":1,"parameters":["",0,0,2]},{"code":401,"indent":1,"parameters":["どのステータスを強化しますか？"]},{"code":102,"indent":1,"parameters":[["筋力","知力","センス","魅力"],-1,-1,2,0]},{"code":402,"indent":1,"parameters":[0,"筋力"]},{"code":355,"indent":2,"parameters":["var buildInfo = $gameVariables.value(14);"]},{"code":655,"indent":2,"parameters":["buildInfo.choice = 'power';"]},{"code":655,"indent":2,"parameters":["$gameVariables.setValue(14, buildInfo);"]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[1,"知力"]},{"code":355,"indent":2,"parameters":["var buildInfo = $gameVariables.value(14);"]},{"code":655,"indent":2,"parameters":["buildInfo.choice = 'intellect';"]},{"code":655,"indent":2,"parameters":["$gameVariables.setValue(14, buildInfo);"]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[2,"センス"]},{"code":355,"indent":2,"parameters":["var buildInfo = $gameVariables.value(14);"]},{"code":655,"indent":2,"parameters":["buildInfo.choice = 'sense';"]},{"code":655,"indent":2,"parameters":["$gameVariables.setValue(14, buildInfo);"]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[3,"魅力"]},{"code":355,"indent":2,"parameters":["var buildInfo = $gameVariables.value(14);"]},{"code":655,"indent":2,"parameters":["buildInfo.choice = 'charm';"]},{"code":655,"indent":2,"parameters":["$gameVariables.setValue(14, buildInfo);"]},{"code":0,"indent":2,"parameters":[]},{"code":404,"indent":1,"parameters":[]},{"code":355,"indent":1,"parameters":["var buildInfo = $gameVariables.value(14);"]},{"code":655,"indent":1,"parameters":["var paramName = buildInfo.choice;"]},{"code":655,"indent":1,"parameters":["var upNum = buildInfo.efficacy.plus;"]},{"code":655,"indent":1,"parameters":["window.client.playerMap[window.client.playerId].params[paramName] += upNum;"]},{"code":355,"indent":1,"parameters":["this._index = this._list.length;"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"$gameVariables.value(14).efficacy.event === 'hotel'"]},{"code":355,"indent":1,"parameters":["var player = window.client.playerMap[window.client.playerId];"]},{"code":655,"indent":1,"parameters":["var buildInfo = $gameVariables.value(14);"]},{"code":655,"indent":1,"parameters":["var pay = ($gameSwitches.value(5)) ? (buildInfo.income / 2) : (buildInfo.income * 2);"]},{"code":655,"indent":1,"parameters":["$gameMessage.add('この施設は' + buildInfo.memoEffect + 'できる宿泊施設です。');"]},{"code":655,"indent":1,"parameters":["this.setWaitMode('message');"]},{"code":655,"indent":1,"parameters":["$gameMessage.add(pay + '円を支払って宿泊しますか？\\n現在の所持金：' + player.money);"]},{"code":102,"indent":1,"parameters":[["はい","いいえ"],1,0,2,0]},{"code":402,"indent":1,"parameters":[0,"はい"]},{"code":355,"indent":2,"parameters":["var buildInfo = $gameVariables.value(14);"]},{"code":655,"indent":2,"parameters":["var upNum = buildInfo.efficacy.heal;"]},{"code":655,"indent":2,"parameters":["var hp = window.client.playerMap[window.client.playerId].params.hp + upNum;"]},{"code":655,"indent":2,"parameters":["if (100 < hp) hp = 100;"]},{"code":655,"indent":2,"parameters":["window.client.playerMap[window.client.playerId].params.hp = hp;"]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[1,"いいえ"]},{"code":121,"indent":2,"parameters":[6,6,1]},{"code":0,"indent":2,"parameters":[]},{"code":404,"indent":1,"parameters":[]},{"code":355,"indent":1,"parameters":["this._index = this._list.length;"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":111,"indent":0,"parameters":[12,"$gameVariables.value(14).efficacy.event === 'station'"]},{"code":101,"indent":1,"parameters":["",0,0,2]},{"code":401,"indent":1,"parameters":["駅コマンドはまだ未実装"]},{"code":355,"indent":1,"parameters":["this._index = this._list.length;"]},{"code":0,"indent":1,"parameters":[]},{"code":412,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"mapEvent 利用","switchId":1,"trigger":0},
{"id":4,"list":[{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["投資イベント"]},{"code":355,"indent":0,"parameters":["var player = window.client.playerMap[window.client.playerId];"]},{"code":655,"indent":0,"parameters":["var areaId = 'AR' + ('000' + $gameVariables.value(13)).slice(-3);"]},{"code":655,"indent":0,"parameters":["var areaInfo = window.client.master.M_AREA_LIST.find(m => m.areaId === areaId);"]},{"code":655,"indent":0,"parameters":["var buildInfo = window.client.master.M_BUILDING_LIST.find(m => m.buildId === areaInfo.buildId);"]},{"code":655,"indent":0,"parameters":["if (areaInfo === null || buildInfo === null) { $gameMessage.add('エラーが発生しました。'); $gameSwitches.setValue(4, false); BattleManager.abort(); }"]},{"code":655,"indent":0,"parameters":["if (areaInfo.playerId === window.client.playerId) $gameSwitches.setValue(5, true);"]},{"code":655,"indent":0,"parameters":["var message = '現在地：' + areaInfo.areaMei + '\\n' + '建築物：' + ((buildInfo.buildId === 'BL000') ? 'なし' : buildInfo.buildMei) + '\\n' + '現在の所持金：' + player.money + '円' + '\\n';"]},{"code":655,"indent":0,"parameters":["$gameVariables.setValue(14,message);"]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["現在の施設を発展させるために投資を実施します。"]},{"code":401,"indent":0,"parameters":["施設が発展すると利用時の効果が上昇し、"]},{"code":401,"indent":0,"parameters":["土地の価値も上昇します。"]},{"code":112,"indent":0,"parameters":[]},{"code":101,"indent":1,"parameters":["",0,0,2]},{"code":401,"indent":1,"parameters":["人口が増えるように投資するか、"]},{"code":401,"indent":1,"parameters":["治安が良くなるように投資するか選択してください。"]},{"code":102,"indent":1,"parameters":[["人口","治安"],-2,-1,2,0]},{"code":402,"indent":1,"parameters":[0,"人口"]},{"code":101,"indent":2,"parameters":["",0,0,2]},{"code":401,"indent":2,"parameters":["投資する金額を入力してください。"]},{"code":103,"indent":2,"parameters":[15,5]},{"code":101,"indent":2,"parameters":["",0,0,2]},{"code":401,"indent":2,"parameters":["人口増加のために「\\V[15]円」を投資しますか？"]},{"code":102,"indent":2,"parameters":[["はい","いいえ"],1,0,2,0]},{"code":402,"indent":2,"parameters":[0,"はい"]},{"code":101,"indent":3,"parameters":["",0,0,2]},{"code":401,"indent":3,"parameters":["投資のために「\\V[15]円」支払いました。"]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[1,"いいえ"]},{"code":0,"indent":3,"parameters":[]},{"code":404,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":402,"indent":1,"parameters":[1,"治安"]},{"code":101,"indent":2,"parameters":["",0,0,2]},{"code":401,"indent":2,"parameters":["投資する金額を入力してください。"]},{"code":103,"indent":2,"parameters":[15,5]},{"code":101,"indent":2,"parameters":["",0,0,2]},{"code":401,"indent":2,"parameters":["治安向上のために「\\V[15]円」を投資しますか？"]},{"code":102,"indent":2,"parameters":[["はい","いいえ"],1,0,2,0]},{"code":402,"indent":2,"parameters":[0,"はい"]},{"code":101,"indent":3,"parameters":["",0,0,2]},{"code":401,"indent":3,"parameters":["投資のために「\\V[15]円」支払いました。"]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[1,"いいえ"]},{"code":0,"indent":3,"parameters":[]},{"code":404,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":403,"indent":1,"parameters":[6,null]},{"code":101,"indent":2,"parameters":["",0,0,2]},{"code":401,"indent":2,"parameters":["投資の実施を終了しますか？"]},{"code":102,"indent":2,"parameters":[["はい","いいえ"],1,0,2,0]},{"code":402,"indent":2,"parameters":[0,"はい"]},{"code":113,"indent":3,"parameters":[]},{"code":0,"indent":3,"parameters":[]},{"code":402,"indent":2,"parameters":[1,"いいえ"]},{"code":0,"indent":3,"parameters":[]},{"code":404,"indent":2,"parameters":[]},{"code":0,"indent":2,"parameters":[]},{"code":404,"indent":1,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":413,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"name":"mapEvent 投資","switchId":1,"trigger":0}
]